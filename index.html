<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Thot Software Toolkit for Statistical Machine Translation</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <!-- begin TOC stuff -->
    <link rel="stylesheet" href="stylesheets/toc.css">
    <script src="javascripts/jquery-2.1.3.min.js"></script>
    <script src="javascripts/jquery.toc.min.js"></script>
    <script>
      $(function(){
        $('#toc').toc({'container': 'section'});
      });
    </script>
    <!-- end TOC stuff -->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <!-- <h1>Thot</h1> -->
        <p style="text-align:center;">  <IMG SRC="images/my_logo_thot_o_negro.jpg" Alt="Thot toolkit for statistical machine translation" WIDTH=175> </p>
        <p> <font size="2">Thot toolkit for statistical machine translation </font></p> 
        <div id="toc"></div>
        <p class="view"><a href="https://github.com/daormar/thot">View the Project on GitHub <small>daormar/thot</small></a></p>

        <!-- <ul> -->
        <!--   <li><a href="https://github.com/daormar/thot/zipball/master">Download <strong>ZIP File</strong></a></li> -->
        <!--   <li><a href="https://github.com/daormar/thot/tarball/master">Download <strong>TAR Ball</strong></a></li> -->
        <!--   <li><a href="https://github.com/daormar/thot">View On <strong>GitHub</strong></a></li> -->
        <!-- </ul> -->
        <!-- <p><font size="3">This project is maintained by <a href="https://github.com/daormar">daormar</a></font></p> -->
        <!-- <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p> -->

      </header>
      <section>
        <p style="font-size:30px; font-weight:bold; color:black">Thot: a Toolkit for Statistical Machine Translation</p>

<h2>
<a id="introduction" class="anchor" href="#introduction" aria-hidden="true"><span class="octicon octicon-link"></span></a>Introduction</h2>

<p>Thot is an open source software toolkit for statistical machine
translation (SMT). Originally, Thot incorporated tools to train
phrase-based models. The new version of Thot now includes a
state-of-the-art phrase-based translation decoder as well as tools to
estimate all of the models involved in the translation process. In
addition to this, Thot is also able to incrementally update its models
in real time after presenting an individual sentence pair using online
learning (also known as adaptive machine translation).</p>

<p>Thot was created by <a href="http://daormar.github.io/">Daniel
Ortiz-Mart√≠nez</a>.

<h2>
<a id="news" class="anchor" href="#news" aria-hidden="true"><span class="octicon octicon-link"></span></a>News</h2>
<p>A new version of the toolkit has been released with several improvements and new features:
<ul>
<li>Ability to force translations for specific phrases of the source sentence</li>
<li>Capability to access language and translation models from disk</li>  
<li>Added functionality to use multiple language and translation models</li>  
<li>Added tool to create empty models useful to perform online learning from scratch</li>  
<li>Portability increased</li>
<li>Growing suite of unit and integration tests</li>
<li>The Thot manual has been extended and revised</li>
</ul>

<h2>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span class="octicon octicon-link"></span></a>Features</h2>

<p>The toolkit includes the following features:</p>

<ul>
<li>Phrase-based statistical machine translation decoder.</li>
<li>Computer-aided translation (post-editing and interactive machine translation).</li>
<li>Incremental estimation of statistical models (adaptive machine translation).</li>
<li>Robust generation of alignments at phrase-level.</li>
<li>Client-server implementation of the translation functionality.</li>
<li>Single word alignment model estimation using the incremental EM algorithm.</li>
<li>Scalable and parallel model estimation algorithms using Map-Reduce.</li>
<li>Compiles on Unix-like and Windows (using Cygwin) systems.</li>
<li>Integration with the <a href="http://www.casmacat.eu/index.php?n=Workbench.Workbench">CasMaCat Workbench</a> developed in the EU FP7 <a href="http://www.casmacat.eu/">CasMaCat project.</a>
</li>
<li>...</li>
</ul>

<h2>
<a id="distribution-details" class="anchor" href="#distribution-details" aria-hidden="true"><span class="octicon octicon-link"></span></a>Distribution Details</h2>

<p>Thot has been coded using C, C++, Python and shell-scripting. Thot is
known to compile on Unix-like and Windows (using Cygwin) systems. See
the "Documentation and Support" section of these instructions if you
experience problems during compilation.</p>

<p>It is released under the <a href="http://www.gnu.org/copyleft/lgpl.html">GNU Lesser General Public License (LGPL)</a>.</p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<h4>
<a id="basic-installation-procedure" class="anchor" href="#basic-installation-procedure" aria-hidden="true"><span class="octicon octicon-link"></span></a>Basic Installation Procedure</h4>

<p>To install Thot, first you need to install the autotools (autoconf,
autoconf-archive, automake and libtool packages in Ubuntu). If you are
planning to use Thot on a Windows platform, you also need to install
the <a href="https://www.cygwin.com/">Cygwin</a>
environment. Alternatively, Thot can also be installed on Mac OS X
systems using <a href="https://www.macports.org/">MacPorts</a>.</p>

<p>On the other hand, some of the functionality incorporated by Thot
requires the previous installation of third-party software
(<a href="#third-party-software">see below</a>).</p>

<p>Once the autotools are available (as well as other required software
such as Cygwin or MacPorts), you can proceed with the installation of
Thot by following the next sequence of steps:</p>

<ol>
<li>
<p>Obtain the package using git:</p>

<pre><code>$ git clone https://github.com/daormar/thot.git
</code></pre>

<p>Or <a href="https://github.com/daormar/thot/archive/master.zip">download it in a zip file</a></p>
</li>
<li><p><code>cd</code> to the directory containing the package's source code and type
<code>./reconf</code>.</p></li>
<li><p>Type <code>./configure</code> to configure the package.</p></li>
<li><p>Type <code>make</code> to compile the package.</p></li>
<li><p>Type <code>make install</code> to install the programs and any data files and
documentation.</p></li>
<li><p>You can remove the program binaries and object files from the source
code directory by typing <code>make clean</code>.</p></li>
</ol>

<p>By default the files are installed under the /usr/local/ directory (or
similar, depending on the OS you use); however, since Step 5 requires
root privileges, another directory can be specified during Step 3 by
typing:</p>

<pre><code> $ configure --prefix=&lt;absolute-installation-path&gt;
</code></pre>

<p>For example, if "user1" wants to install the Thot package in the
directory /home/user1/thot, the sequence of commands to execute should be
the following:</p>

<pre><code> $ ./reconf
 $ configure --prefix=/home/user1/thot
 $ make
 $ make install
</code></pre>

<p>The installation directory can be the same directory where the Thot
package was decompressed.</p>

<!-- <p>See "INSTALL" file for more information.</p> -->

<p>IMPORTANT NOTE: if Thot is being installed in a PBS cluster (a cluster
providing <code>qsub</code> and other related tools), it is important that the
<code>configure</code> script is executed in the main cluster node, so as to
properly detect the cluster configuration (do not execute it in an
interactive session).</p>

<h4>
<a id="alternative-installation-options" class="anchor" href="#alternative-installation-options" aria-hidden="true"><span class="octicon octicon-link"></span></a>Alternative Installation Options</h4>

<p>The Thot configure script can be used to modify the toolkit
behavior. Here is a list of current installation options:</p>

<ul>
<li> <b><code>--enable-ibm2-alig</code></b>: Thot currently uses
HMM-based alignment models to obtain the word alignment matrices
required for phrase model estimation. One alternative installation
option allows to replace HMM-based alignment models by IBM 2 alignment
models. IBM 2 alignment models can be estimated very efficiently without
significantly affecting translation quality.</li>

<li> <b><code>--with-kenlm=&ltDIR></code></b>: installs Thot with the
necessary code to combine it the with the KenLM
library. <code>&ltDIR></code> is the absolute path where the KenLM
library was installed. See more information below.</li>

<li> <b><code>--with-casmacat=&ltDIR></code></b>: this option enables the
configuration required for the CasMaCat Workbench. <code>&ltDIR></code>
is the absolute path where the CasMaCat library was installed. See more
information below.</li>

<li> <b><code>--enable-testing=&ltDIR></code></b>: this option enables
the execution of unit tests using the <code>thot_test</code> tool. Using
this option requires the installation of the CppUnit library. For more
information, see the third party software Section below.</li>

</ul>

<h4>
<a id="third-party-software" class="anchor" href="#third-party-software"
aria-hidden="true"><span class="octicon octicon-link"></span></a>Third
Party Software</h4>

<p>Thot can be combined with third party software, extending its
functionality. Currently supported software is listed below.</p>

<h5>LevelDB</h5>
<p><a href="https://github.com/google/leveldb">LevelDB</a> is a
key-value storage library providing an ordered mapping from string keys
to string values. LevelDB is used into Thot to handle language and
translation model parameters from disk. The advantage of doing this is a
reduction of main memory requirements and loading times for both kinds
of models to virtually zero, at the cost of a small time overhead
incurred by disk usage.</p>

<p>One interesting aspect of using LevelDB to access models parameters
that is not present in other solutions implemented in the toolkit,
including those based on the KenLM and Berkeley DB libraries described
below, is that LevelDB allows to modify model parameters in a very
efficient way, in contrast to the models implemented by means of the
alternative libraries, where modifications are slow or simply not
allowed.</p>

<p>To enable LevelDB in Thot it is necessary to install the library in a
standard path before executing <code>configure</code>. In operating
systems where the <code>apt</code> tool is available, LevelDB can be
installed by means of the following command:</p> </p>

<pre><code>$ sudo apt install libleveldb-dev</code></pre>

<h5>KenLM</h5>

<p>The <a href="https://kheafield.com/code/kenlm/">KenLM library</a>
provides software to estimate, filter and query language models. KenLM
has been incorporated into Thot so as to enable access of language model
parameters from disk in a similar way to that described for the LevelDB
library. However, KenLM language models are static in contrast to the
dynamic language models implemented by means of LevelDB.</p>

<p>KenLM library should be downloaded, compiled and installed before
executing Thot's <code>configure</code> script. <code>configure</code>
should be used with the <code>--with-kenlm=&ltDIR></code> option, where
<code>&ltDIR></code> is the directory where the library was installed. A
specific version of KenLM has been created with minor modifications
focused on making the package easier to install. The required sequences
of commands is as follows:</p>

<pre><code>$ mkdir kenlm ; cd kenlm
$ git clone https://github.com/daormar/kenlm.git repo
$ mkdir build ; cd build
$ cmake -DCMAKE_INSTALL_PREFIX=../ ../repo
$ make
$ make install    # Installs the library in the "kenlm" directory
</code></pre>

<p>For more information about how to use this functionality, please refer
to
the <a href="http://daormar.github.io/thot/docsupport/thot_manual.pdf">Thot
manual</a>.</p>

<h5>Berkeley DB Library</h5>

<p><a href="http://www.oracle.com/technetwork/database/database-technologies/berkeleydb/overview/index.html">Berkeley
DB</a> is a software library providing a high performance database for
key/value data. Berkeley DB can be combined with Thot so as to allow
access to phrase model parameters from disk. The purpose of this is to
reduce main memory requirements and loading times in the same way as was
explained above for language models and KenLM.</p>

<p>Berkeley DB library should be installed in a standard OS directory (such
as <code>/usr/local</code>) before the <code>configure</code> script is
executed. In systems providing the <code>apt</code> tool, this can be
easily achieved with the following command:</p>

<pre><code>$ sudo apt install libdb++-dev</code></pre>

<p>For additional information about how to use this functionality, see
the <a href="http://daormar.github.io/thot/docsupport/thot_manual.pdf">Thot
manual</a>.</p>

<h5>Casmacat Workbench</h5>

<p>Thot can be used in combination with the CasMacat Workbench that is
being developed in the project of the same
name. <a href="http://www.casmacat.eu/index.php?n=Workbench.Workbench">See
this webpage</a> to get the specific installation instructions.</p>

<h5>CppUnit</h5>

<p><a href="https://freedesktop.org/wiki/Software/cppunit/">CppUnit</a>
is a C++ framework for unit testing. The <code>thot_test</code> tool
internally uses CppUnit to execute a growing set of unit tests.</p>

<p>CppUnit should be installed in a standard OS directory before
executing <code>configure</code>. If the <code>apt</code> tool is
available in your operating system, CppUnit can be installed by
executing the following command:</p>

<pre><code>$ sudo apt install libcppunit-dev</code></pre>

<h4 id="checking-package-installation">Checking Package Installation</h4>

<p>Once the package has been installed, it is possible to perform basic
checkings in an automatic manner so as to detect portability errors. For
this purpose, the following command can be used:</p>

<pre><code> $ make installcheck</code></pre>

<p>The tests performed by the previous command involve the execution of
the main tasks present in a typical SMT pipeline, including training and
tuning of model parameters as well as generating translations using the
estimated models (see more on this in the Thot manual). The command
internally uses the toy corpus provided with the Thot package to carry
out the checkings.</p>

<h2>
<a id="relation-with-existing-software" class="anchor" href="#relation-with-existing-software" aria-hidden="true"><span class="octicon octicon-link"></span></a>Relation with Existing Software</h2>

<p>Due to the strong focus of Thot on online and incremental learning, it
includes its own programs to carry out language and translation model
estimation. Specifically, Thot includes tools to work with n-gram
language models based on incrementally updateable sufficient
statistics. On the other hand, Thot also includes a set of tools and a
whole software library to estimate IBM 1, IBM 2 and HMM-based word
alignment models. The estimation process can be carried out using batch
and incremental EM algorithms. This functionality is not based on the
standard GIZA++ software for word alignment model generation.</p>

<p>Additionally, Thot does not use any code from other existing
translation tools. In this regard, Thot tries to offer its own view of
the process of statistical machine translation, with a strong focus on
online learning and also incorporating interactive machine translation
functionality. Another interesting feature of the toolkit is its stable
and robust translation server.</p>

<h2>
<a id="current-status" class="anchor" href="#current-status" aria-hidden="true"><span class="octicon octicon-link"></span></a>Current Status</h2>

<p>The Thot toolkit is under development. Original public versions of Thot
date back to 2005 [Ortiz-Mart√≠nez et al., 2005] and were hosted in
SourceForge. These original versions were strongly focused on the
estimation of phrase-based models. By contrast, current version offers
several new features that had not been previously incorporated.</p>

<p>A set of specific tools to ease the process of making SMT experiments
has been created.  Basic usage instructions have been recently added to
the Thot manual.</p>

<p>On the other hand, there are some toolkit extensions that will be
incorporated in the next months:</p>

<ul>
<li><p>Improved management of concurrency in the Thot translation server
(concurrent translation processes are currently handled with mutual
exclusion) <small><b>[STATUS: implementation finished]</b></small></p></li>
<li><p>Virtualized language models, i.e. accessing language model
parameters from disk <small><b>[STATUS: implementation finished]</b></small></p></li>
<li><p>Interpolation of language and translation
models <small><b>[STATUS: implementation finished]</b></small></p></li>
</ul>

<p>Finally, here is a list of known issues with the Thot toolkit that are
currently being addressed:</p>

<ul>
<li><p>Phrase model training is based on HMM-based word alignment models
estimated by means of incremental EM. The current implementation is slow
and currently constitutes a bottleneck when training phrase models from
large corpora. One already implemented solution is to carry out the
estimation in multiple processors.  Another solution is to replace
HMM-based models by IBM 2 Models, which can be estimated very
efficiently. However, we are also investigating alternative optimization
techniques to efficiently execute the estimation process of HMM-based
models in a single processor <small><b>[STATUS: under development
although code is much faster now]</b></small></p></li>
<li><p>Log-linear model weight adjustment is carried out by means of the
downhill simplex algorithm, which is slow. Downhill simplex will be
replaced by a more efficient technique <small><b>[STATUS: issue
solved]</b></small></p></li>
<li><p>Non-monotonic translation is not yet sufficiently tested,
specially with complex corpora such as Europarl <small><b>[STATUS: under
development]</b></small></p></li>
</ul>

<h2>
<a id="docsupport" class="anchor" href="#docsupport" aria-hidden="true"><span class="octicon octicon-link"></span></a>Documentation and Support</h2>

<p>Project documentation is being developed. Such documentation includes:</p>

<ul>
<li>These instructions.</li>
<li>The <a href="http://daormar.github.io/thot/docsupport/thot_manual.pdf">Thot manual</a> ("thot_manual.pdf" under the "doc" directory).</li>
<li>A <a href="http://daormar.github.io/thot/docsupport/thot_quick_guide.pdf">quick user guide</a> ("thot_quick_guide.pdf" under the "doc" directory).</li>
<li>A <a href="http://daormar.github.io/thot/docsupport/thot_seminar.pdf">seminar about SMT and Thot</a> ("thot_seminar.pdf" under the "doc" directory).</li>
</ul>

<p>If you need additional help, you can:</p>

<ul>
<li>use the <a href="https://github.com/daormar/thot/issues">github issue tracker</a>.
</li>
<li><a href="mailto:daniel.o@webinterpret.com">send an e-mail to the author</a>.</li>
<li>join the <a href="http://groups.google.com/group/casmacat-support/boxsubscribe">CasMaCat support group</a>.
</li>
</ul>

<p>Additional information about the theoretical foundations of Thot can be
found in [Ortiz-Mart√≠nez, 2011]. One interesting feature of Thot,
incremental (or online) estimation of statistical models, is also
described in [Ortiz-Mart√≠nez et al., 2010]. Finally, phrase-level
alignment generation functionality implemented in Thot was proposed in
[Ortiz-Mart√≠nez et al., 2008].</p>

<h2>
<a id="citation" class="anchor" href="#citation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Citation</h2>

<p>You are welcome to use the code under the terms of the license for
research or commercial purposes, however please acknowledge its use with
a citation:</p>

<p>Daniel Ortiz-Mart√≠nez, Francisco Casacuberta.
<em>"The New Thot Toolkit for Fully Automatic and Interactive Statistical Machine Translation"</em>.
In Proc. of the European Association for Computational Linguistics (EACL): System Demonstrations,
Gothenburg, Sweden, April 2014. pp. 45-48.</p>

<p>Here is a BiBTeX entry:</p>

<pre>
@InProceedings{Ortiz2014,
  author    = {Daniel Ortiz-Mart\'{\i}nez and Francisco Casacuberta},
  title     = {The New Thot Toolkit for Fully Automatic and Interactive Statistical Machine Translation},
  booktitle = {Proc. of the European Association for Computational Linguistics (EACL): System Demonstrations},
  year      = {2014},
  month     = {April},
  address   = {Gothenburg, Sweden},
  pages     = "45--48",
}
</pre>

<h2>
<a id="literature" class="anchor" href="#literature" aria-hidden="true"><span class="octicon octicon-link"></span></a>Literature</h2>

<p>Daniel Ortiz-Mart√≠nez,
  "<em>Online Learning for Statistical Machine Translation</em>".
  In Computational Linguistics, 2016. Vol. 42 (1), pp. 121-161.
 <a href="http://www.mitpressjournals.org/doi/pdf/10.1162/COLI_a_00244">Download</a></p>

<p>Daniel Ortiz-Mart√≠nez,
"<em>Advances in Fully-Automatic and Interactive Phrase-Based Statistical Machine Translation</em>".
PhD Thesis. Universidad Polit√©cnica de Valencia. 2011.
Advisors: Ismael Garc√≠a Varea and Francisco Casacuberta. <a href="https://www.prhlt.upv.es/aigaion2/attachments/dortiz_thesis_2011.pdf-d12d165f9a2b01b0697000ed7c08c4bc.pdf">Download</a></p>

<p>Daniel Ortiz-Mart√≠nez, Ismael Garc√≠a-Varea, Francisco Casacuberta.
"<em>Online Learning for Interactive Statistical Machine Translation</em>".
In Proc. of the North American Chapter of the Association for Computational Linguistics -
Human Language Technologies (NAACL-HLT), pp. 546-554, Los Angeles, US, 2010. <a href="http://aclweb.org/anthology-new/N/N10/N10-1079.pdf">Download</a></p>

<p>Daniel Ortiz-Mart√≠nez, Ismael Garc√≠a-Varea, Francisco Casacuberta.
"<em>Phrase-level alignment generation using a smoothed loglinear phrase-based statistical alignment model</em>".
In Proc. of the European Association for Machine Translation (EAMT), pp. 160-169, Hamburg, Germany, 2008. <em>Best paper award</em>. <a href="http://mt-archive.info/EAMT-2008-Ortiz-Martinez.pdf">Download</a></p>

<p>Daniel Ortiz-Mart√≠nez, Ismael Garc√≠a-Varea, Francisco Casacuberta.
"<em>Thot: a toolkit to train phrase-based models for statistical machine translation</em>".
In Proc. of the Machine Translation Summit (MT-Summit),
Phuket, Thailand, September 2005. <a href="http://www.mt-archive.info/MTS-2005-Ortiz-Martinez.pdf">Download</a></p>

<!-- <h2> -->
<!-- <a id="why-thot" class="anchor" href="#why-thot" aria-hidden="true"><span class="octicon octicon-link"></span></a>Why Thot?</h2> -->

<!-- <p>The name Thot was chosen because it represents -->
<!-- the <a href="https://en.wikipedia.org/wiki/Thoth">Egyptian God of -->
<!-- knowledge</a> (also referred to as Thoth or Tot), continuing the -->
<!-- tradition of using Egyptian names for machine translation tools -->
<!-- initiated by other developers in the field. Interestingly, Seshat, who -->
<!-- is the consort of Thot and -->
<!-- the <a href="https://en.wikipedia.org/wiki/Seshat">Goddess of -->
<!-- writing</a>, is the name -->
<!-- of <a href="https://github.com/falvaro/seshat">a very exciting machine -->
<!-- learning tool</a> for mathematical expression recognition developed by -->
<!-- my former colleague at -->
<!-- PRHLT, <a href="http://falvaro.github.io/">Francisco √Ålvaro</a>.</p> -->


<h2>
<a id="sponsors" class="anchor" href="#sponsors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Sponsors</h2>

<p>Thot has been supported by the European Union under the <a href="http://www.casmacat.eu/">CasMaCat
research project</a>. Thot has also received support from the Spanish
Government in a number of research projects, such as the <a href="http://miprcv.iti.upv.es/">MIPRCV
project</a> that belonged to the prestigious CONSOLIDER programme</a>.</p>

 <ul class="partner-logos">
    <li><a href="http://cordis.europa.eu/fp7/home_en.html"><img src="http://daormar.github.io/thot/images/jaune.jpg" alt="EU" height="50" /></a></li>
    <li><a href="http://www.micinn.es/"><img src="http://daormar.github.io/thot/images/logo-mci.jpg" alt="MCINN" /></a></li>
    <li><a href="http://www.vlc-campus.com"><img height="50" src="http://daormar.github.io/thot/images/vlc-campus.png" alt="VLC-CAMPUS" /></a></li>
    <li><a href="http://www.upv.es"><img src="http://daormar.github.io/thot/images/logo-upv-hor.png" alt="UPV" height="50" /></a></li>
  </ul>

<!-- <p>Last updated: 2 January 2018</p> -->
      </section>
    </div>
    <script src="javascripts/scale.fix.js"></script>
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-60880705-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
